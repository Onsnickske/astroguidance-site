<!doctype html>
<html lang="nl">
<head>
    <meta charset="utf-8">
    <title>Astroguidancelife | Boek nu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@400;500;600&display=swap">
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>
<header class="site-header">
    <div class="topbar">
        <span class="topbar-text">Astroguidancelife</span>
        <div class="lang-switch">
            <a href="../en/book.html">ðŸ‡¬ðŸ‡§ EN</a>
            <a href="../es/book.html">ðŸ‡ªðŸ‡¸ ES</a>
            <a href="book.html" class="on">ðŸ‡§ðŸ‡ª NL</a>
        </div>
    </div>

    <div class="nav-wrap">
        <a class="logo" href="index.html">
            <img src="../static/images/logo.png" alt="Astroguidancelife logo">
        </a>
        <nav class="main-nav">
            <a href="index.html">Home</a>
            <a href="about.html">Over mij</a>
            <a href="reports.html">Astrologische rapporten</a>
            <a href="book.html" class="active">Boek nu</a>
            <a href="contact.html">Contact</a>
        </nav>
    </div>
</header>

<main class="page">
    <section class="section">
        <h1>Boek nu</h1>
        <p class="lead">
            Kies het rapport dat je wilt en ik bevestig per mail.
        </p>
    </section>

    <section class="section book-form-wrap">
        <div id="form-status" class="success-box" style="display:none;"></div>

        <form class="contact-form" method="post" action="/api/contact">
            <input type="hidden" name="form_type" value="booking-nl">
            <div class="field">
                <label for="name">Naam</label>
                <input id="name" name="name" required>
            </div>
            <div class="field">
                <label for="email">E-mail</label>
                <input id="email" name="email" type="email" required>
            </div>
            <div class="field">
                <label for="topic">Welk rapport wil je?</label>
                <select id="topic" name="topic">
                    <option value="natal">Geboortehoroscoop â€“ â‚¬80</option>
                    <option value="love">Liefde &amp; compatibiliteit â€“ â‚¬60</option>
                    <option value="career">CarriÃ¨re-rapport â€“ â‚¬60</option>
                    <option value="forecast">Voorspelling 12 maanden â€“ â‚¬60</option>
                    <option value="health">Gezondheid &amp; vitaliteit â€“ â‚¬60</option>
                    <option value="saturn">Saturnus-return â€“ â‚¬60</option>
                    <option value="jupiter">Jupiter-return â€“ â‚¬60</option>
                    <option value="pluto">Pluto vierkant Pluto â€“ â‚¬60</option>
                </select>
            </div>
            <div class="field">
                <label for="message">Wil je nog iets toevoegen?</label>
                <textarea id="message" name="message" rows="4"></textarea>
            </div>
            <button type="submit" class="primary-btn">
                Aanvraag versturen
            </button>
        </form>
    </section>
</main>

<footer class="site-footer">
    <p>Â© Astro Guidance Life. Alle rechten voorbehouden.</p>
    <p class="muted">
        Consulten zijn persoonlijk en niet terugbetaalbaar zodra de voorbereiding is begonnen.
    </p>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const form = document.querySelector("form[action='/api/contact']");
  const status = document.getElementById("form-status");
  if (!form) return;

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    if (status) {
      status.style.display = "block";
      status.textContent = "Versturen...";
    }

    try {
      const res = await fetch(form.action, {
        method: "POST",
        body: new FormData(form),
      });

      if (res.ok) {
        if (status) status.textContent = "Bedankt, je aanvraag is verzonden.";
        form.reset();
      } else {
        if (status) status.textContent = "Er ging iets mis. Probeer opnieuw.";
      }
    } catch (err) {
      if (status) status.textContent = "Netwerkfout. Probeer opnieuw.";
    }
  });
});
</script>
</body>
</html>
