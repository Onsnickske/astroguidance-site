<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Astroguidancelife | Reservar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@400;500;600&display=swap">
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>
<header class="site-header">
    <div class="topbar">
        <span class="topbar-text">Astroguidancelife</span>
        <div class="lang-switch">
            <a href="../en/book.html">ðŸ‡¬ðŸ‡§ EN</a>
            <a href="book.html" class="on">ðŸ‡ªðŸ‡¸ ES</a>
            <a href="../nl/book.html">ðŸ‡§ðŸ‡ª NL</a>
        </div>
    </div>

    <div class="nav-wrap">
        <a class="logo" href="index.html">
            <img src="../static/images/logo.png" alt="Astroguidancelife logo">
        </a>
        <nav class="main-nav">
            <a href="index.html">Inicio</a>
            <a href="about.html">Sobre mÃ­</a>
            <a href="reports.html">Informes astrolÃ³gicos</a>
            <a href="book.html" class="active">Reservar</a>
            <a href="contact.html">ContÃ¡ctame</a>
        </nav>
    </div>
</header>

<main class="page">
    <section class="section">
        <h1>Reservar</h1>
        <p class="lead">
            Elige el informe que necesitas y mÃ¡ndame tu solicitud. Te confirmarÃ© por email.
        </p>
    </section>

    <section class="section book-form-wrap">
        <div id="book-status-es" class="success-box" style="display:none"></div>

        <form id="book-form-es" class="contact-form">
            <div class="field">
                <label for="book-name-es">Nombre</label>
                <input id="book-name-es" name="name" required>
            </div>
            <div class="field">
                <label for="book-email-es">Correo electrÃ³nico</label>
                <input id="book-email-es" name="email" type="email" required>
            </div>
            <div class="field">
                <label for="book-topic-es">Â¿QuÃ© informe deseas?</label>
                <select id="book-topic-es" name="topic">
                    <option value="natal">Carta natal â€“ 80 â‚¬</option>
                    <option value="love">Amor y compatibilidad â€“ 60 â‚¬</option>
                    <option value="career">Informe profesional â€“ 60 â‚¬</option>
                    <option value="forecast">PronÃ³stico 12 meses â€“ 60 â‚¬</option>
                    <option value="health">Salud y vitalidad â€“ 60 â‚¬</option>
                    <option value="saturn">Retorno de Saturno â€“ 60 â‚¬</option>
                    <option value="jupiter">Retorno de JÃºpiter â€“ 60 â‚¬</option>
                    <option value="pluto">PlutÃ³n cuadratura PlutÃ³n â€“ 60 â‚¬</option>
                </select>
            </div>
            <button type="submit" class="primary-btn">Enviar reserva</button>
        </form>
    </section>
</main>

<footer class="site-footer">
    <p>Â© Astro Guidance Life. Todos los derechos reservados.</p>
    <p class="muted">
        Las consultas son personales y no reembolsables una vez iniciada su preparaciÃ³n.
    </p>
</footer>

<script>
(function () {
    const form = document.getElementById('book-form-es');
    const statusBox = document.getElementById('book-status-es');

    if (!form) return;

    form.addEventListener('submit', async (event) => {
        event.preventDefault();

        statusBox.style.display = 'block';
        statusBox.className = 'success-box';
        statusBox.textContent = 'Enviandoâ€¦';

        const payload = {
            Form: 'Reserva (ES)',
            Nombre: form.name.value,
            Email: form.email.value,
            Informe: form.topic.value
        };

        try {
            const res = await fetch('https://formsubmit.co/ajax/michele.blindeman@gmail.com', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(payload)
            });

            if (!res.ok) throw new Error('Network error');

            statusBox.className = 'success-box';
            statusBox.textContent = 'Gracias â€” he recibido tu solicitud.';
            form.reset();
        } catch (err) {
            console.error(err);
            statusBox.className = 'error-box';
            statusBox.textContent = 'Ha ocurrido un error. IntÃ©ntalo de nuevo.';
        }
    });
})();
</script>
</body>
</html>
